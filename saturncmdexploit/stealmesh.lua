local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local mouse = player:GetMouse()
local SCAN_RADIUS = 5 -- studs

-- Function to scan for meshes near a position
local function scanMeshes(position)
    local found = false
    -- Get all descendants of Workspace
    local allDescendants = workspace:GetDescendants()
    for _, obj in ipairs(allDescendants) do
        if obj:IsA("BasePart") then
            local objPos = obj.Position
            local dist = (objPos - position).Magnitude
            if dist <= SCAN_RADIUS then
                -- Only check children of this part
                for _, child in ipairs(obj:GetChildren()) do
                    if child:IsA("SpecialMesh") or child:IsA("FileMesh") then
                        local meshId = child.MeshId
                        if meshId ~= "" and meshId ~= nil then
                            print("Mesh found: " .. obj.Name .. " | MeshId: " .. meshId)
                            found = true
                        end
                    end
                end
            end
        end
    end

    if not found then
        print("No mesh found nearby.")
    end
end

-- Bind E key
mouse.KeyDown:Connect(function(key)
    if key:lower() == "k" then
        if mouse.Hit then
            scanMeshes(mouse.Hit.Position)
        end
    end
end)
